<!DOCTYPE html>
<html>

  <head>
    <title>UAJ SPORTS APP TEST</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="site.css">
    <script src="https://storage.googleapis.com/feednami-static/js/feednami-client-v1.0.1.js">
    </script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="crossorigin=""></script>

    <script>
      window.onload = function() {
        // functions that run after page loads
        displayGreeting();
        fetchWeather();
        displayRSSFeed();

      }
      // display good morning, afternoon or evening based on the time
      function displayGreeting() {
        var date = new Date();
        var hour = date.getHours();
        var description = "";
        if (hour < 12) {
          description = "morning";
        } else if (hour < 17) {
          description = "afternoon";
        } else {
          description = "evening";
        }
        document.getElementById("greeting").innerHTML = "Good " + description + ".";
      }

      function listSheet(mymap) {
        // list google sheet rows
        fetch('https://api.sheetson.com/v2/sheets/Sheet1?no-cache=true', {
          withCredentials: true,
          headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer 48sv4Jqa1hHWuUhyNyIsEyHP1J968Q874W6miIvY76h4P7M5kuD26o3Wkr8K4g',
            'X-Sheetson-Spreadsheet-Id': '1bqvW2FA4pn44dlU6r-YmCnuG61CvFRT3v84U4StrBcQ'
          }
        })
        .then(function(resp) { return resp.json() })
        .then(function(data) {
          for (var i = 0; i < data.results.length; i++) {
            var result = data.results[i];
            let divElement = '<div class="cell">' + '<div class="cell_name">' + result.name + '</div>' + '<div class="cell_address">' + result.address + '</div>' + '<div class="cell_url"><a href="' + result.url + '">' + result.url + '</a></div>' + '<div class="cell_phone">' + result.phone + '</div>' + '</div>' ;
            document.getElementById("sheet").innerHTML += divElement;

            addPin(mymap, result.lat, result.lon, '<strong>' + result.name + '</strong><br>' + result.address);
          }
        })
        .catch(function() {
          document.getElementById("sheet").innerHTML = "Error in listSheet function";
        });
      }

    </script>
  </head>

  <body>
    <div id="greeting"></div>

   <center>
      <div class="name_container">
        UAJ SPORTS APP
      </div>

    <div class="content_container">

        <div class="image_container">
          <img alt="Sports" src="https://wearecardinals.com/wp-content/uploads/2020/04/u1Re9qgMfM8d6kumlW85PS6s55jQh5fbdmppgQsP.jpeg" width="400" height="400">
        </div>

        <div class="bio_container">
          <h3>How it works:</h3>
          The UAJ sports app is your one stop locale for all things sports related. All you need is a voice and you can have news read to you about PAC 12 teams, hear facts about events that happened today in sports history, or test your college sports knowledge 
        </div>

        <div class="clear"></div>
    </div>

    <div class=NHL_news_title><strong>Start here</strong></div>
    </center>

    <center>
    <div class="news_container">
      <div class="newstitle">APP FEATURES</div>
      <div class="newssite">QUIZ</a></div>
      <div class="newssite">NEWS</div>
      <div class="newssite">Today in History</a></div>
    </div>
  </center>

  </body>
</html>
